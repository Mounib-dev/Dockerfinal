{% extends 'base.html.twig' %}

{% block title %}Hello CategoryController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>{{ page_title }}!</h1>
    <a href="{{ path('book.create') }}" class="btn btn-primary">Voulez-vous ajouter un Livre aux étagères ?</a>
    <a href="/" class="btn btn-dark">Retourner à la Bibliothèque</a>    
    <h1 class="mt-4 mb-4">Nos étagères virtuelles</h1>
    {% for book in books %}
        <div class="container text-center">
            
            <div class="shelf">
            <!-- Livre 1 -->
            <div class="book">
                <div class="book-info">
                    <h5>{{ book.title }}</h5>
                    <p>Auteur: {{ book.author.firstname }} {{ book.author.lastname }}</p>
                    
                </div>
                
            </div>

        </div>
        {# Update Book #}
        <a href="{{ path('book.update', {id: book.id}) }}" class="btn btn-warning">Modifier</a>
        {# Delete Book #}
        <form class="mt-4"action="{{ path('book.delete', {id: book.id}) }}" method="POST" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer ce livre ?')">
            <input type="hidden" name="delete_book" value="{{ book.id }}">
            <button type="submit" class="btn btn-danger">
            <i class="bi bi-trash-fill"></i>
                Supprimer
            </button>
        </form>
    {% endfor %}


</div>
{% endblock %}
